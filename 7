#include <iostream>
#include <vector>
#include <array>
using namespace std;

// ======================== ПУНКТ 1 ========================
// Используем vector для пункта 1

vector<int> arr;
// Функция просмотра массива
void viewArray() {
    if (arr.empty()) {
        cout << "Массив пуст []" << endl;
        return;
    }
    cout << "[";
    for (size_t i = 0; i < arr.size(); i++) {
        cout << arr[i];
        if (i != arr.size() - 1) cout << " ";
    }
    cout << "]" << endl;
}

// Добавление элемента в начало
void addToBeginning(int value) {
    arr.insert(arr.begin(), value);
}

// Добавление элемента в конец
void addToEnd(int value) {
    arr.push_back(value);
}

// Очистка массива
void clearArray() {
    arr.clear();
}

// Поиск элемента в массиве
void searchElement(int value) {
    vector<int> indices;
    for (size_t i = 0; i < arr.size(); i++) {
        if (arr[i] == value) {
            indices.push_back(i);
        }
    }
    if (indices.empty()) {
        cout << "Элемент " << value << " не найден []" << endl;
    }
    else {
        cout << "Индексы элемента " << value << ": [";
        for (size_t i = 0; i < indices.size(); i++) {
            cout << indices[i];
            if (i != indices.size() - 1) cout << ", ";
        }
        cout << "]" << endl;
    }
}
// Функция для варианта: если количество элементов четное, удалить первый, иначе удалить до 4 последних если возможно
void variantTask() {
    cout << "До выполнения задания: ";
    viewArray();

    if (arr.empty()) {
        cout << "Массив пуст, нечего удалять" << endl;
        return;
    }

    if (arr.size() % 2 == 0) {
        // Четное количество элементов - удалить первый
        if (!arr.empty()) {
            cout << "Удаляем первый элемент (" << arr[0] << ")" << endl;
            arr.erase(arr.begin());
        }
    }
    else {
        // Нечетное количество элементов - удалить до 4 последних если возможно
        if (arr.size() > 4) {
            cout << "Удаляем элементы с индексами 0 до " << arr.size() - 5 << endl;
            arr.erase(arr.begin(), arr.begin() + (arr.size() - 4));
        }
        else {
            cout << "Не удается удалить до 4 последних (в массиве всего " << arr.size() << " элементов)" << endl;
        }
    }

    cout << "После выполнения задания: ";
    viewArray();
}

// Дополнительный вариант: разбить сумму поровну в начало и конец
void variant() {
    cout << "Введите число K: ";
    int K;
    cin >> K;

    // Находим максимальное n такое, что сумма 1..n <= K
    int sum = 0;
    int n = 0;
    while (sum + (n + 1) <= K) {
        n++;
        sum += n;
    }
    cout << "Для K=" << K << " можно использовать числа 1.." << n << " (сумма=" << sum << ")" << endl;

    // Очищаем массив и заполняем нулями
    int size = max(1, n);  
    arr.clear();
    arr.resize(size, 0);

    // Распределяем числа поочередно в начало и конец
    int leftIdx = 0;
    int rightIdx = size - 1;

    for (int i = 1; i <= n; i++) {
        if (i % 2 == 1) {
            // Нечетные числа в начало
            arr[leftIdx++] = i;
        }
        else {
            // Четные числа в конец
            arr[rightIdx--] = i;
        }
    }
    cout << "Результат: ";
    viewArray();
}
// Пункт 1
int main() {
    setlocale(LC_ALL, "Russian");
    int choice;
    do {
        cout << "\n=== МЕНЮ (vector) ===" << endl;
        cout << "0. Выход из меню" << endl;
        cout << "1. Просмотр массива" << endl;
        cout << "2. Добавить элемент в начало" << endl;
        cout << "3. Добавить элемент в конец" << endl;
        cout << "4. Очистка всего массива" << endl;
        cout << "5. Поиск элемента в массиве" << endl;
        cout << "6. Выполнить задание варианта" << endl;
        cout << "7. Дополнительный вариант " << endl;
        cout << "Выберите пункт: ";
        cin >> choice;

        switch (choice) {
        case 0:
            cout << "Выход из меню..." << endl;
            break;
        case 1:
            viewArray();
            break;
        case 2: {
            int value;
            cout << "Введите значение для добавления в начало: ";
            cin >> value;
            addToBeginning(value);
            cout << "Элемент добавлен" << endl;
            break;
        }
        case 3: {
            int value;
            cout << "Введите значение для добавления в конец: ";
            cin >> value;
            addToEnd(value);
            cout << "Элемент добавлен" << endl;
            break;
        }
        case 4:
            clearArray();
            cout << "Массив очищен" << endl;
            break;
        case 5: {
            int value;
            cout << "Введите элемент для поиска: ";
            cin >> value;
            searchElement(value);
            break;
        }
        case 6:
            variantTask();
            break;
        case 7:
            variant();
            break;
        default:
            cout << "Неверный пункт меню!" << endl;
        }
    } while (choice != 0);
    return 0;
}
